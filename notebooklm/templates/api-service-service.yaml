apiVersion: v1
kind: Service
metadata:
  annotations:
    kompose.cmd: ./kompose convert -c
    kompose.version: 1.34.0 (cbf2835db)
    mini-service: "true"
    mini-service/service-port: "true"  # Add this to mark it as the service port
  labels:
    io.kompose.service: api-service
  name: api-service
spec:
  ports:
    - name: "inference"
      port: 8002        # This is the servicePort that Cloud Functions will use
      targetPort: 8002  # This matches the container port
  selector:
    io.kompose.service: api-service